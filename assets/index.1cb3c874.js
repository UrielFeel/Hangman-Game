(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}})();const t={secretWord:"",discoverdLetters:[],wrongLetters:[],isAlive:void 0,chooseSecretWord:function(o,e){return this.resetWord(),e?this.secretWord=e.toUpperCase():this.secretWord=o[Math.floor(Math.random()*o.length)].toUpperCase(),this.discoverdLetters=Array(this.secretWord.length).fill("_"),console.log(this.discoverdLetters),this.secretWord},resetWord:function(){this.secretWord="",this.discoverdLetters=[],this.wrongLetters=[],this.isAlive=void 0},pickLetter:function(o){if(o=o.toUpperCase(),!!/^[a-zñ]$/i.test(o)){if(this.secretWord.includes(o)){for(let e=0;e<this.secretWord.length;e++)this.secretWord[e]===o&&(this.discoverdLetters[e]=o);console.log(this.discoverdLetters)}else this.wrongLetters.includes(o)||(this.wrongLetters.push(o),console.log(this.wrongLetters));this.secretWord===this.discoverdLetters.join("")?(this.isAlive=!0,console.log("You win!")):this.wrongLetters.length>8&&(this.isAlive="dead",console.log(`You lose, the word was "${this.secretWord}"`))}}};class p{constructor(e){this.gallow=e}draw(e){this.gallow.lineWidth=e,this.gallow.lineJoin="round",this.gallow.lineCap="round",this.gallow.strokeStyle="#474744"}write(e,l,n){this.gallow.font=`bold ${n}px Inter`,this.gallow.lineWidth=e,this.gallow.lineCap="round",this.gallow.lineJoin="round",this.gallow.fillStyle=l}drawSpaces(e){this.draw(6);const l=350/e;for(let n=0;n<e;n++)this.gallow.moveTo(80+l*n,500),this.gallow.lineTo(40+l*n,500);this.gallow.stroke(),this.gallow.closePath()}init(e){this.gallow.clearRect(0,0,410,570),this.draw(8),this.gallow.fillStyle="#d8dbe0",this.gallow.fillRect(0,0,410,570),this.gallow.beginPath(),this.gallow.moveTo(50,390),this.gallow.lineTo(350,390),this.gallow.stroke(),this.gallow.closePath(),this.drawSpaces(e.length)}drawHangman(e){this.draw(8),this.gallow.beginPath(),e===1&&(this.gallow.moveTo(150,390),this.gallow.lineTo(150,70)),e===2&&(this.gallow.moveTo(150,70),this.gallow.lineTo(275,70)),e===3&&(this.gallow.moveTo(275,70),this.gallow.lineTo(275,100)),e===4&&(this.gallow.moveTo(315,140),this.gallow.arc(275,145,40,0,2*Math.PI)),e===5&&(this.gallow.moveTo(275,185),this.gallow.lineTo(275,290)),e===6&&(this.gallow.moveTo(275,205),this.gallow.lineTo(235,215)),e===7&&(this.gallow.moveTo(275,205),this.gallow.lineTo(315,215)),e===8&&(this.gallow.moveTo(275,290),this.gallow.lineTo(235,320)),e===9&&(this.gallow.moveTo(275,290),this.gallow.lineTo(315,320)),this.gallow.stroke(),this.gallow.closePath()}righLetter(e,l){this.write(6,"#0A3871",54);const n=350/e.length;this.gallow.fillText(e[l],40+n*l,480),this.gallow.stroke()}wrongLetter(e,l){this.write(6,"#fa1e21",35),this.gallow.fillText(e,10+35*l,550,30),this.drawHangman(l)}}const c=document.querySelector("main"),f=document.querySelector("#game"),h=document.querySelector("#landing"),g=new p(document.querySelector("#gallow").getContext("2d")),m=["hola","adios","pizza","humanidad","humano","persona","gente","hombre","mujer","bebe","ni\xF1o","ni\xF1a","adolescente","adulto","adulta","anciano","anciana","don","do\xF1a","se\xF1or","se\xF1ora","caballero","dama","individuo"];function w(o){c.contains(h)&&(c.removeChild(h),f.style.display="flex"),g.init(t.chooseSecretWord(m,o)),window.addEventListener("keydown",r),a.close()}document.querySelector("#addWord").onclick=o=>{const e=prompt("Cual es la nueva palabra?");e&&(m.push(e),w(e))};const v=document.querySelector("#play");v.onclick=o=>{w()};const a=document.querySelector("#modal"),u=document.querySelector("#modal-body");document.querySelector(".close").onclick=()=>{t.isAlive===void 0&&window.addEventListener("keydown",r),a.close()};document.querySelector("#salir").onclick=()=>{confirm("seguro que quiere salir?")&&(c.appendChild(h),window.removeEventListener("keydown",r),f.style.display="none"),a.close(),window.addEventListener("keydown",r)};const L=document.querySelector("#menu");L.onclick=o=>{window.removeEventListener("keydown",r),u.innerHTML="<h2>Menu</h2>",a.showModal()};function k(){u.innerHTML='<img src="/trophy.png" class="modal-img" alt=""><h2>Felicidades Ganaste!</h2>',a.showModal(),window.removeEventListener("keydown",r)}function T(){u.innerHTML=`<img src="/hangman.png" class="modal-img" alt=""><h2>Game Over!</h2><p>La palabra era: "${t.secretWord}"</p>`,a.showModal(),window.removeEventListener("keydown",r)}document.querySelector("#newGame").onclick=()=>{confirm("Seguro que quiere iniciar un nuevo juego?")&&w(),a.close(),window.addEventListener("keydown",r)};const r=o=>{y(o.key)};function y(o){if(o=o.toUpperCase(),!(!/^[a-zñ]$/i.test(o)||t.wrongLetters.includes(o)||t.discoverdLetters.includes(o))){if(t.pickLetter(o),t.secretWord.includes(o))for(let e=0;e<t.secretWord.length;e++)t.secretWord[e]===o&&g.righLetter(t.secretWord,e);else t.wrongLetters.includes(o)&&t.wrongLetters[t.wrongLetters.length-1]&&g.wrongLetter(o,t.wrongLetters.length);t.isAlive===!0?k():t.isAlive==="dead"&&T()}}document.querySelector("#toggle-check").onclick=o=>{document.body.classList.toggle("dark")};document.querySelector("#keyboard").oninput=o=>{y(o.target.value),o.target.value=""};
